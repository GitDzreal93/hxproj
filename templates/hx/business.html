{% extends "base/base_site.html" %}
{% load staticfiles %}
{% block title %} Table Dynamic {% endblock title %}

{% block stylesheets %}
	{{ block.super }}
	<link href="/static/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
	<link href="/static/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
	<link href="/static/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
	<link href="/static/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
	<link href="/static/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css" rel="stylesheet">
{% endblock stylesheets %}

{% block content %}
	<div class="right_col" role="main">
		<div class="clearfix"></div>

		<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12">
				<div class="x_panel">
					<div class="x_title">
						<h2>商家查询</h2>
						<div class="clearfix"></div>
					</div>
					<div class="x_content">
						<div class="row" style="margin-bottom:10px">
							<form class="form-label-left" role="form" action="{% url 'sales_record' %}" method="get">
								<div class="container">
									<div class="row">
										<div class="form-group col-lg-2">
											<div class="input-group">
												<span class="input-group-addon">商家代码</span>
												<input class="form-control" type="text">
											</div>
										</div>
										<div class="form-group col-lg-2">
											<div class="input-group">
												<span class="input-group-addon">商家名称</span>
												<input class="form-control" type="text">
											</div>
										</div>
										<div class="form-group col-lg-2">
											<div class="input-group">
												<span class="input-group-addon">门店代码</span>
												<input class="form-control" type="text">
											</div>
										</div>
										<div class="form-group col-lg-2">
											<div class="input-group">
												<span class="input-group-addon">门店名称</span>
												<input class="form-control" type="text">
											</div>
										</div>
										<div class="form-group col-lg-2">
											<div class="input-group">
												<span class="input-group-addon">产品型号</span>
												<input class="form-control" type="text">
											</div>
										</div>
										<div class="form-group col-lg-2">
											<div class="input-group">
												<button type="submit" class="btn btn-success">查询</button>
											</div>
										</div>
									</div>
								</div>
							</form>
						</div>

						<table id="datatable" class="table table-striped table-bordered">
							<thead>
							<tr>
								<th>{{ data.title.business_code }}</th>
								<th>{{ data.title.business_name }}</th>
								<th>{{ data.title.office }}</th>
								<th>{{ data.title.company_type }}</th>
							</tr>
							</thead>

							{% for bussiness in  data.business_list %}
								<tr>
									<th>{{ bussiness.business_code }}</th>
									<th>{{ bussiness.business_name }}</th>
									<th>{{ bussiness.office }}</th>
									<th>{{ bussiness.company_type }}</th>
								</tr>
							{% endfor %}

							<tbody>


							</tbody>

						</table>
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock content %}

{% block javascripts %}
	{{ block.super }}
	<!-- Datatables -->
	<script src="/static/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
	<script src="/static/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
	<script src="/static/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
	<script src="/static/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
	<script src="/static/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
	<script src="/static/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
	<script src="/static/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
	<script src="/static/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
	<script src="/static/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
	<script src="/static/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
	<script src="/static/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
	<script src="/static/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
	<script src="/static/vendors/jszip/dist/jszip.min.js"></script>
	<script src="/static/vendors/pdfmake/build/pdfmake.min.js"></script>
	<script src="/static/vendors/pdfmake/build/vfs_fonts.js"></script>
	<script>
{#	 $(document).ready(function(){#}
{#                alert("aa");#}
{#            });#}
		$(document).ready(function(){
			console.log("hahahah");
			 $.get("http://127.0.0.1:8000/common/api/business/",function(data,status){
				alert("Data: " + data + "\nStatus: " + status);
			 	console.log(data);
			});
		})
	</script>
{% endblock javascripts %}